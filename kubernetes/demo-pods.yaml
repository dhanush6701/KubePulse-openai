apiVersion: apps/v1
kind: Deployment
metadata:
  name: demo-failure
  namespace: demo-namespace
spec:
  replicas: 1
  selector:
    matchLabels:
      app: demo-failure
  template:
    metadata:
      labels:
        app: demo-failure
    spec:
      containers:
        - name: crash-loop
          image: busybox:1.36
          command:
            - /bin/sh
            - -c
            - "echo 'Intentional crash'; exit 1" # exits immediately to force Failed pods
---
apiVersion: apps/v1
kind: Deployment
metadata:
  name: demo-pending
  namespace: demo-namespace
spec:
  replicas: 1
  selector:
    matchLabels:
      app: demo-pending
  template:
    metadata:
      labels:
        app: demo-pending
    spec:
      nodeSelector:
        demo-showcase: nonexistent # unschedulable until label removed or added
      containers:
        - name: pending-sleeper
          image: busybox:1.36
          command:
            - sh
            - -c
            - "sleep 3600"
---
apiVersion: batch/v1
kind: Job
metadata:
  name: demo-succeeded
  namespace: demo-namespace
spec:
  template:
    metadata:
      labels:
        app: demo-succeeded
    spec:
      restartPolicy: Never
      containers:
        - name: success-task
          image: busybox:1.36
          command:
            - sh
            - -c
            - "echo 'Completing successfully'; exit 0"
  backoffLimit: 0